import { Video, Link, ArticleLayout } from '@src/components/content'

export const meta = {
  author: 'Mario Souto',
  date: '2023-05-03',
  title: '#drops Quem tem medo do this? Function vs Arrow Functions no JavaScript',
  description: '???',
  source: 'devsoutinho',
  category: 'post',
  tags: ['threads', 'javascript', 'programaÃ§Ã£o'],
  comments: true,
}

export default (props) => <ArticleLayout meta={meta} {...props} />

VocÃª sabe uma das principais diferenÃ§as de usar function vs arrow function no seu cÃ³digo?

Olhando esse cÃ³digo? quais sÃ£o os valores de `this` em ordem do counter?

```js
let counter = 0;
console.log(++counter, "[solto] this", this);

function MyFunction() {
	console.log(++counter, "[function] this", this);
}
MyFunction();
new MyFunction();

const MyArrowFunction = () => {
	console.log(++counter, "[arrow_function] this", this);
}
MyArrowFunction();

const myCustomObject = {
	MyFunction,
	MyArrowFunction,
};
myCustomObject.MyFunction();
myCustomObject.MyArrowFunction();
```

1. O primeiro console log `"[solto] this"`, vai referenciar o window, se vocÃª estiver rodando na web e o global se vocÃª estiver no Node. Importante reforÃ§ar que hoje em dia, tambÃ©m temos o globalThis que permite que seu cÃ³digo acesse o escopo global independente do ambiente em que ele esteja rodando.

https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/globalThis

2. O segundo Ã© o this dentro de uma function. Por padrÃ£o o this dentro de uma function vai referenciar **o escopo de onde ela estÃ¡ sendo executada**, neste caso, ela vai ser executada no escopo global, por consequencia Ã© o mesmo this do item anterior.

3. No terceiro caso, estamos usando nossa funÃ§Ã£o para instanciar um novo objeto. Dito isso, o objeto em questÃ£o vai ser o this da nossa instÃ¢ncia nessa funÃ§Ã£o. Ou seja, o this vai ser o objeto que estamos instanciando.

4. No quarto caso, estamos usando uma arrow function. A arrow function nÃ£o tem um this prÃ³prio, **ela vai herdar o this do escopo onde ela estÃ¡ sendo criada**. Neste caso, o escopo Ã© o global, entÃ£o o this vai ser o mesmo do primeiro caso.

5. Neste caso, estamos criando um novo objeto e adicionando nossa funÃ§Ã£o criada com `function` nele. O resultado da execuÃ§Ã£o vai ser o mesmo do segundo caso, pois o this vai ser o mesmo do escopo onde a funÃ§Ã£o estÃ¡ sendo executada, que Ã© o nosso objeto literal `myCustomObject`.

6. No sexto caso, estamos criando um novo objeto e adicionando nossa funÃ§Ã£o criada com `arrow function` dentro dele. O resultado da execuÃ§Ã£o vai ser o mesmo do primeiro caso, pois o this vai ser o mesmo do escopo onde a funÃ§Ã£o estÃ¡ sendo criada, que Ã© o objeto global do browser.

> Ahh e antes que vocÃª pergunte, tentar usar new em uma arrow function irÃ¡ resultar em `Uncaught TypeError: MyArrowFunction is not a constructor`

<iframe
  height="300"
  width="100%"
  scrolling="no"
  title="Exemplo de cÃ³digo"
  src="https://codepen.io/omariosouto/embed/XWxzKdO?default-tab=js%2Cresult&editable=true"
  frameBorder="no"
  loading="lazy"
  allowtransparency={true.toString()}
  allowFullScreen={true}
/>

E como sempre, fica aqui as referÃªncias para vocÃª se aprofundar no assunto:

- [this - MDN](https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Operators/this)
- [arrow function - MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions)
- [function - MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function)

Continue acompanhando o blog para mais dicas de desenvolvimento em geral! ğŸ˜